(()=>{"use strict";const e=function(e){e.querySelectorAll("input").forEach((function(e){e.removeAttribute("required")}));var t=function(e,t){var n=e.parentNode;n.style.cssText="position: relative;";var o=n.querySelector(".error")||document.createElement("div");o.className="error",o.textContent=t,n.insertAdjacentElement("beforeend",o),o.style.cssText="position: absolute;\n    color: #fff;\n    background-color: tomato;\n    padding: 3px 10px;\n    font-size: 1em;\n    border-radius: 19px;",o.style.left="".concat(e.offsetLeft+(e.offsetWidth-o.offsetWidth)/2,"px"),o.style.top="".concat(e.offsetTop-(document.documentElement.clientWidth>991&&e.closest("#form1")?57:17),"px")},n=function(){var t=e.parentNode.querySelector(".error");t&&t.remove()};e.addEventListener("input",(function(e){var t=e.target;"user_name"===t.name&&function(e){e.value=e.value.replace(/[^а-я ]/gi,"")}(t),"user_message"===t.name&&function(e){e.value=e.value.replace(/[^а-я0-9 .,!?:;]/gi,"")}(t),"user_email"===t.name&&function(e){e.value=e.value.replace(/[^a-z\_@\.!~\*'-]/gi,"")}(t),"user_phone"===t.name&&function(e){e.value=e.value.replace(/[^+0-9]/,""),e.value.length>12&&(e.value=e.value.substring(0,12))}(t)})),e.addEventListener("blur",(function(e){e.target.closest("input")&&function(e){if(e.value=e.value.trim(),e.value=e.value.replace(/-+/g,"-"),e.value=e.value.replace(/ +/g," "),e.value=e.value.replace(/^-/,""),e.value=e.value.replace(/-$/,""),"user_name"===e.name)if(/[а-я]{2,}/.test(e.value.trim())){n();var o=e.value.split(" ");o.forEach((function(e,t){o[t]=e[0].toUpperCase()+e.slice(1)})),e.value=o.join(" ")}else t(e,"минимум 2 буквы");"user_email"===e.name&&(/^[^@]{2,}@[^@]{2,}\.\w{2,}/.test(e.value.trim())?n():t(e,"неверный e.mail")),"user_phone"===e.name&&(/^\+?([0-9]){6,13}$/.test(e.value.trim())?n():t(e,"неверный номер"))}(e.target)}),!0)};var t,n,o,r,a,c,i,l;(function(e){var t=document.getElementById("timer-days"),n=document.getElementById("timer-hours"),o=document.getElementById("timer-minutes"),r=document.getElementById("timer-seconds"),a=new Date("19 july 2021 22:00:00").getTime(),c=function(){var e,c,l,u,s,d=(e=(new Date).getTime(),c=(a-e)/1e3,l=Math.floor(c%60),u=Math.floor(c/60%60),s=Math.floor(c/60/60%24),{timeRemaining:c,days:Math.floor(c/60/60/24),hours:s,minutes:u,seconds:l});d.timeRemaining>0?(t.textContent=d.days<10?"0"+d.days:d.days,n.textContent=d.hours<10?"0"+d.hours:d.hours,o.textContent=d.minutes<10?"0"+d.minutes:d.minutes,r.textContent=d.seconds<10?"0"+d.seconds:d.seconds):(t.textContent="0",n.textContent="00",o.textContent="00",r.textContent="00",clearInterval(i))};c();var i=setInterval(c,1e3)})(),c=document.querySelector(".menu"),i=document.querySelector("menu"),l=function(){return i.classList.toggle("active-menu")},document.addEventListener("click",(function(e){var t=e.target;t.closest("menu")||t.closest(".menu")||!i.classList.contains("active-menu")||l()})),c.addEventListener("click",(function(){return l()})),i.addEventListener("click",(function(e){var t=e.target;(t.classList.contains("close-btn")||(t=t.closest("a")))&&l()})),document.addEventListener("click",(function(e){var t=e.target.closest('a[href^="#"');if(t&&!t.classList.contains("close-btn")&&!t.classList.contains("portfolio-btn")){e.preventDefault();var n=t.getAttribute("href").substring(1),o=document.getElementById(n).getBoundingClientRect().top;window.scrollBy({top:o,behavior:"smooth"})}})),function(){var e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),n=document.querySelector(".popup-content");e.style.transition="all 1s ease";var o,r=-100,a=0,c=function t(){o=requestAnimationFrame(t),a+=.01,(r+=3)<0&&(n.style.transform="translateX("+r+"%)"),a<.5&&(e.style.backgroundColor="rgba(0, 0, 0, "+a+")"),a>=.5&&r>=0&&(cancelAnimationFrame(o),r=-100,a=0)};t.forEach((function(t){t.addEventListener("click",(function(){e.style.display="block",document.documentElement.clientWidth>768&&(e.style.backgroundColor="rgba(0, 0, 0, 0)",n.style.transform="translateX(".concat(r,"%)"),c())}))}));var i=function(){e.style.display="none"};e.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?i():(t=t.closest(".popup-content"))||i()}))}(),o=document.querySelector(".service-header"),r=document.querySelectorAll(".service-header-tab"),a=document.querySelectorAll(".service-tab"),o.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&r.forEach((function(e,n){e===t&&function(e){for(var t=0;t<a.length;t++)e===t?(a[t].classList.remove("d-none"),r[t].classList.add("active")):(a[t].classList.add("d-none"),r[t].classList.remove("active"))}(n)}))})),function(){var e,t=document.querySelectorAll(".portfolio-item"),n=document.querySelector(".portfolio-dots"),o=document.querySelector(".portfolio-content"),r=0;!function(e){for(var t=0;t<e;t++)n.insertAdjacentHTML("beforeend",'<li class="dot"></li>')}(t.length);var a=n.querySelectorAll(".dot"),c=function(e,t,n){e[t].classList.remove(n)},i=function(e,t,n){e[t].classList.add(n)},l=function(){c(t,r,"portfolio-item-active"),c(a,r,"dot-active"),++r>=t.length&&(r=0),i(t,r,"portfolio-item-active"),i(a,r,"dot-active")},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;e=setInterval(l,t)};o.addEventListener("click",(function(e){e.preventDefault();var n=e.target;n.matches("#arrow-right, #arrow-left, .dot")&&(c(t,r,"portfolio-item-active"),c(a,r,"dot-active"),n.matches("#arrow-right")?r++:n.matches("#arrow-left")?r--:n.matches(".dot")&&a.forEach((function(e,t){e===n&&(r=t)})),r>=t.length&&(r=0),r<0&&(r=t.length-1),i(t,r,"portfolio-item-active"),i(a,r,"dot-active"))})),o.addEventListener("mouseover",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&clearInterval(e)})),o.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&u()})),i(a,r,"dot-active"),u()}(),t=document.querySelector(".command"),n=function(e){var t=e.src;e.src=e.dataset.img,e.dataset.img=t},t.addEventListener("mouseover",(function(e){var t=e.target;t.closest("img")&&n(t)})),t.addEventListener("mouseout",(function(e){var t=e.target;t.closest("img")&&n(t)})),function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=document.querySelector(".calc"),o=n.querySelector(".calc-type"),r=n.querySelector(".calc-square"),a=n.querySelector(".calc-day"),c=n.querySelector(".calc-count"),i=n.querySelector("#total"),l=function(){var e,n=1,i=1,l=o.options[o.selectedIndex].value;if(""===l)return r.value="",a.value="",c.value="",0;var u=+r.value;return c.value>1&&(n+=(c.value-1)/10),a.value&&a.value<5?i*=2:a.value&&a.value<10&&(i*=1.5),e=l&&u?t*l*u*n*i:0,Math.floor(e)},u=function(t){cancelAnimationFrame(e);var n=+i.textContent,o=(t-n)/60;t!==n&&(e=requestAnimationFrame((function r(){i.textContent=Math.floor(n),o>0&&n>=t||o<0&&n<=t?(i.textContent=t,cancelAnimationFrame(e)):requestAnimationFrame(r),n+=o})))};n.addEventListener("change",(function(e){var t=e.target;t!==o&&t!==r&&t!==a&&t!==c||u(l())}));var s=function(e){e.value=e.value.replace(/\D/g,"")};n.addEventListener("input",(function(e){var t=e.target;t.closest("input")&&s(t)}))}(),function(){var t=document.getElementById("form1"),n=document.getElementById("form2"),o=document.getElementById("form3");e(t),e(n),e(o);var r=document.createElement("div");r.style.cssText="font-size: 2rem; color: #fff";var a=function(){setTimeout((function(){r.remove(),r.textContent=""}),3e3),setTimeout((function(){document.querySelector(".popup").style.display="none"}),2e3)},c=function(e){if(e.appendChild(r),function(e){var t=!0;return e.querySelectorAll("input").forEach((function(e){"user_name"!==e.name&&"user_email"!==e.name&&"user_phone"!==e.name||(0===e.value.length&&(t=!1),e.parentNode.querySelector(".error")&&(t=!1))})),t}(e)){r.textContent="",r.insertAdjacentElement("beforeend",function(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div");e.insertAdjacentElement("beforeend",t),e.insertAdjacentElement("beforeend",n),e.insertAdjacentElement("beforeend",o),e.style.cssText="display: flex; justify-content: center;";var r=60,a=0,c=20,i=40,l=1,u=1,s=1;return requestAnimationFrame((function e(){(a+=l)>=r&&(l=-1),a<=0&&(l=1),(c+=u)>=r&&(u=-1),c<=0&&(u=1),(i+=s)>=r&&(s=-1),i<=0&&(s=1),t.style.cssText="width: 20px;\n        height: 20px;\n        border-radius: 100px;\n        background-color: rgb(25, 181, 254);\n        margin-right: 5px;\n        transform: scale(".concat(a/r,");"),n.style.cssText="width: 20px;\n        height: 20px;\n        border-radius: 100px;\n        background-color: rgb(25, 181, 254);\n        margin-right: 5px;\n        transform: scale(".concat(c/r,");"),o.style.cssText="width: 20px;\n        height: 20px;\n        border-radius: 100px;\n        background-color: rgb(25, 181, 254);\n        transform: scale(".concat(i/r,");"),requestAnimationFrame(e)})),e}());var t=new FormData(e),n={};t.forEach((function(e,t){n[t]=e})),function(e){return fetch("../server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(n).then((function(e){if(200!==e.status)throw new Error("status network not 200");r.textContent="Спасибо! Мы скоро с вами свяжемся!",a()})).catch((function(e){r.textContent="Что-то пошло не так...",console.error(e),a()})).finally(e.querySelectorAll("input").forEach((function(e){return e.value=""})))}else r.textContent="Заполните все поля!"};t.addEventListener("submit",(function(e){e.preventDefault(),c(t)})),n.addEventListener("submit",(function(e){e.preventDefault(),c(n)})),o.addEventListener("submit",(function(e){e.preventDefault(),c(o)}))}()})();